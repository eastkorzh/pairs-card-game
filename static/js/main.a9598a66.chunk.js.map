{"version":3,"sources":["components/ControlButton.js","components/Board.js","components/ChangeMode.js","components/TimeLog.js","index.js"],"names":["ControlButton","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleClick","bind","assertThisInitialized","status","startGame","stopGame","text","timer","react_default","a","createElement","onClick","React","Component","Card","className","concat","class","id","Board","state","pickedElems","pairs","blockClick","e","_this2","length","target","classList","contains","add","push","setState","setTimeout","remove","i","mode","win","_this3","imgs","createImgsArr","j","elements","renderCard","key","renderBoard","ChangeMode","type","name","value","onChange","changeMode","defaultChecked","htmlFor","TimeLog","createTimeTable","timeLog4","timeLog6","elem","Game","startMs","s","m","Date","now","startTimer","timerId","setInterval","currS","Math","floor","parseInt","clearInterval","toString","sort","b","Number","split","join","reverse","shift","size","apply","arr","random","_ref","components_Board","picked","components_ControlButton","components_ChangeMode","components_TimeLog","ReactDOM","render","src_Game","document","getElementById"],"mappings":"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","file":"static/js/main.a9598a66.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nclass ControlButton extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.handleClick = this.handleClick.bind(this);\r\n\t}\r\n\r\n\thandleClick() {\r\n        if (this.props.status === \"main menu\") {\r\n            this.props.startGame()\r\n        } else {\r\n            this.props.stopGame()\r\n        }\r\n    }\r\n    \r\n\trender() {\r\n\t\tconst status = this.props.status;\r\n\t\tlet text = null;\r\n\r\n\t\tif (status === 'main menu') {\r\n\t\t\ttext = \"Start\";\r\n\t\t} else if (status === 'preparation' || status === 'play') {\r\n\t\t\ttext = this.props.timer;\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button \r\n\t\t\t\tonClick = {this.handleClick}\r\n\t\t\t>\r\n\t\t\t\t{text}\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ControlButton;","import React from 'react'\r\n\r\nfunction Card(props) { // Это отдельный компонент, поэтому его стоит в отдельный файл хотя бы выносить, если не в директорию\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName = {`card ${props.class}`}\r\n\t\t\tonClick = {props.onClick}\r\n\t\t\tid = {props.id}\r\n\t\t/>\r\n\t);\r\n}\r\n\r\nclass Board extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tpickedElems: [],\r\n\t\t\tpairs: 0,\r\n\t\t\tblockClick: false,\r\n\t\t}\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t}\r\n\r\n\tonClick(e) {\r\n\t\tif (this.state.blockClick) return;\r\n\r\n\t\tif (this.props.status === 'play' && this.state.pickedElems.length < 2) {\r\n\t\t\tif (e.target.classList.contains(e.target.id)) return;\r\n\r\n\t\t\te.target.classList.add(e.target.id);\r\n\t\t\tthis.state.pickedElems.push(e.target);\r\n\t\t}\r\n\r\n\t\tif (this.state.pickedElems.length === 2) {\r\n\t\t\tthis.setState({blockClick: true})\r\n\r\n\r\n\t\t\tif (this.state.pickedElems[0].id !== this.state.pickedElems[1].id) {               \r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.state.pickedElems[0].classList.remove(this.state.pickedElems[0].id)\r\n\t\t\t\t\tthis.state.pickedElems[1].classList.remove(this.state.pickedElems[1].id)\r\n\t\t\t\t\tthis.setState({pickedElems: [], blockClick: false})\r\n\t\t\t\t}, 500)          \r\n\t\t\t} else {\r\n\t\t\t\tlet i = this.state.pairs + 1;\r\n\t\t\t\tthis.state.pickedElems[0].classList.add('picked');\r\n\t\t\t\tthis.state.pickedElems[1].classList.add('picked');\r\n\t\t\t\tthis.setState({pickedElems: [], pairs: i, blockClick: false})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate() {\r\n\t\tif (this.props.mode === 'x4' && this.state.pairs === 8) {\r\n\t\t\tthis.props.win()\r\n\t\t} \r\n\t\tif (this.props.mode === 'x6' && this.state.pairs === 18) {\r\n\t\t\tthis.props.win()\r\n\t\t}\r\n\t\tif (this.props.status === 'main menu' && (this.state.pairs || this.state.pickedElems.length)) {\r\n\t\t\tthis.setState({pickedElems: [], pairs: 0})\r\n\t\t}\r\n\t}\r\n\r\n\trenderBoard() {\r\n\t\tif (this.props.status === 'main menu') {\r\n\t\t\tthis.imgs = this.props.createImgsArr();\r\n\t\t}\r\n\t\tconst elements = [];\r\n\t\tlet j;\r\n\t\tconst renderCard = (i) => {\r\n\r\n\t\t\tif (this.props.status === 'main menu' || this.props.status === 'play') {\r\n\t\t\t\treturn <Card \r\n\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\tonClick={this.onClick}\r\n\t\t\t\t\t\tid={this.imgs[i]}\r\n\t\t\t\t\t/>;\r\n\t\t\t} else if (this.props.status === 'preparation'){\r\n\t\t\t\treturn <Card // Лучше оборачивать в таких случаях, вроде бы: return (<A ... >...</A>) \r\n\t\t\t\t\t\tkey = {i} \r\n\t\t\t\t\t\tclass={this.imgs[i]} \r\n\t\t\t\t\t\tid={this.imgs[i]}\r\n\t\t\t\t\t/>;\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t(this.props.mode === 'x4') ? j = 16: j = 36;\r\n\r\n\t\tfor (let i = 0; i < j; i++) {\r\n\t\t\telements.push(renderCard(i))\r\n\t\t}\r\n\t\treturn elements;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className={`board ${this.props.mode}`} id=\"board\">     \r\n\t\t\t\t{this.renderBoard()}\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Board; // Можно писать сразу export default class A extends React.Component ...\r\n","import React from 'react'\r\n\r\nclass ChangeMode extends React.Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className = 'mode-radio' >\r\n\t\t\t\t<div className = \"md-radio\">\r\n\t\t\t\t\t<input type=\"radio\" id=\"x4\" name=\"mode\" value=\"x4\"\r\n\t\t\t\t\t\tonChange = {this.props.changeMode}\r\n\t\t\t\t\t\tdefaultChecked \r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"x4\">4x4</label>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className = \"md-radio\">\r\n\t\t\t\t\t{/* пропсы, если их много, нужно писать так:\r\n\t\t\t\t\t\t<A\r\n\t\t\t\t\t\t\tabc={//}\r\n\t\t\t\t\t\t\tdef={//}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t///\r\n\t\t\t\t\t\t</A>\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t<input type=\"radio\" id=\"x6\" name=\"mode\" value=\"x6\" \r\n\t\t\t\t\t\tonChange = {this.props.changeMode}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<label htmlFor=\"x6\">6x6</label>\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default ChangeMode;\r\n","import React from 'react';\r\n\r\nclass TimeLog extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.createTimeTable = this.createTimeTable.bind(this);\r\n    }\r\n\r\n    createTimeTable() {\r\n        const timeLog4 = this.props.timeLog4;\r\n        const timeLog6 = this.props.timeLog6;\r\n        const elements = [];\r\n\r\n        if (!timeLog4[0] && !timeLog6[0]) return <div className=\"nothing\">It's nothing here yet</div>;        \r\n\r\n        if (this.props.mode === 'x4') {\r\n            for (let i = timeLog4.length; i > 0 ; i--) {               \r\n                let elem = <div key = {i}>{timeLog4[i - 1]}</div>\r\n                elements.push(elem)\r\n            }\r\n        } else {\r\n            for (let i = timeLog6.length; i > 0 ; i--) {               \r\n                let elem = <div key = {i}>{timeLog6[i - 1]}</div>\r\n                elements.push(elem)\r\n            }\r\n        }\r\n\r\n        return elements;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className = \"time-log\">\r\n                <p>Best time</p>\r\n                {this.createTimeTable()}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TimeLog;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.scss';\r\nimport ControlButton from './components/ControlButton.js'\r\nimport Board from './components/Board.js'\r\nimport ChangeMode from './components/ChangeMode.js'\r\nimport TimeLog from './components/TimeLog.js'\r\n\t\r\nclass Game extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tstatus: 'main menu',\r\n\t\t\ttimer: '00:00',\r\n\t\t\tmode: 'x4',\r\n\t\t\ttimeLog4: [],\r\n\t\t\ttimeLog6: [],\r\n\t\t}\r\n\t\tthis.startMs = null; // так не делают, но пока без redux - можно и так, наверное. У реактовских компонентов не делают никаких полей, только методы свои определяют (ведь есть state и store от редакса)\r\n\t\tthis.s = null;\r\n\t\tthis.m = null;\r\n\r\n\t\tthis.startGame = this.startGame.bind(this);\r\n\t\tthis.stopGame = this.stopGame.bind(this);\r\n\t\tthis.win = this.win.bind(this);\r\n\t\tthis.changeMode = this.changeMode.bind(this);\r\n\t\tthis.createImgsArr = this.createImgsArr.bind(this);\r\n\t}\r\n\r\n\tstartTimer() {\r\n\t\tthis.startMs = Date.now();\r\n\t\tthis.s = 0;\r\n\t\tthis.m = 0;\r\n\t}\r\n\t\r\n\tstartGame() {\r\n\t\tthis.startTimer();\r\n\t\tlet s = this.s;\r\n\t\tlet m = this.m;\r\n\t\tlet startMs = this.startMs;\r\n\t\tthis.timerId = setInterval(() => {\r\n\t\t\tconst currS = Math.floor((Date.now() - startMs) / 1000);\r\n\t\t\tif (s >= 59) {\r\n\t\t\t\tm++\r\n\t\t\t\ts = 0;\r\n\t\t\t} else if(parseInt(m) === 0) {\r\n\t\t\t\ts = currS;\r\n\t\t\t} else if (m > 0) {\r\n\t\t\t\ts = currS - 60*m;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t//set delay before change state to 'play'\r\n\t\t\tif (this.state.mode === 'x4' && s > 3) this.setState({status: 'play'});\r\n\t\t\tif (this.state.mode === 'x6' && s > 6) this.setState({status: 'play'});\t\t\t\r\n\t\t\t//=======================================\r\n\t\t\t\r\n\t\t\tif (m > 59) {\r\n\t\t\t\tthis.setState({status: 'main menu', timer: '00:00'})\r\n\t\t\t\tclearInterval(this.timerId);\r\n\t\t\t}\r\n\t\t\ts = s.toString();\r\n\t\t\tm = m.toString();\r\n\t\t\t\r\n\t\t\tif (s.length < 2) {\r\n\t\t\t\ts = '0' + s;\r\n\t\t\t}\r\n\t\t\tif (m.length < 2) {\r\n\t\t\t\tm = '0' + m;\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({timer: `${m}:${s}`})\r\n\t\t\tthis.s = s;\r\n\t\t\tthis.m = m;\r\n\t\t}, 1000)\r\n\r\n\t\tthis.setState({status: 'preparation'})\r\n\t}\r\n\r\n\tstopGame() {\r\n\t\tclearInterval(this.timerId);\r\n\t\tthis.setState({status: 'main menu', timer: '00:00'})\r\n\t}\r\n\r\n\twin() {\r\n\t\tif (this.state.status === 'main menu') return; //prevent 2nd call by Board's componentDidUpdate()\r\n\t\t\r\n\t\tclearInterval(this.timerId);\r\n\r\n\t\tthis.setState({status: 'main menu', timer: '00:00'});\r\n\r\n\t\t(this.state.mode === 'x4') ?\r\n\t\t\tthis.state.timeLog4.push(`${this.m}:${this.s}`) :\r\n\t\t\tthis.state.timeLog6.push(`${this.m}:${this.s}`);\r\n\t\t\r\n\t\tthis.state.timeLog4.sort( (a, b) => Number(a.split(':').join('')) - Number(b.split(':').join('')) );\r\n\t\tthis.state.timeLog4.reverse();\r\n\r\n\t\tthis.state.timeLog6.sort( (a, b) => Number(a.split(':').join('')) - Number(b.split(':').join('')) );\r\n\t\tthis.state.timeLog6.reverse();\r\n\r\n\t\tif (this.state.timeLog4.length > 5) this.state.timeLog4.shift();\r\n\t\tif (this.state.timeLog6.length > 5) this.state.timeLog6.shift();\r\n\t}\r\n\r\n\tchangeMode() {\r\n\t\tthis.stopGame();\r\n\t\t(this.state.mode === 'x4') ? // скобки можно убрать\r\n\t\t\tthis.setState({mode: 'x6'}) :\r\n\t\t\tthis.setState({mode: 'x4'})\r\n\t}\r\n\r\n\tcreateImgsArr() {\r\n\t\tconst imgs = [];\r\n\t\tlet size;\r\n\r\n\t\t(this.state.mode === 'x4') ? size = 8 : size = 18;\r\n\t\tfor (let i = 1; i <= size; i++) {\r\n\t\t\timgs.push(`img${i}`)\r\n\t\t}\r\n\r\n\t\timgs.push(...imgs);\r\n\r\n\t\t/* \r\n\t\tвидимо это шаффл массива - стоит его вынести в отдельное место и импортить как утилитарный метод, \r\n\t\tлибо же, если в этом файле оставлять, сделать константой на глобальном уровне (с экспортом) \r\n\t\t- иначе точно не понятно, что эта фигня делает\r\n\t*/\r\n\t\t((arr) => {\r\n\t\t\tfor (let i = arr.length - 1; i > 0; i--) {\r\n\t\t\t\tconst j = Math.floor(Math.random() * (i + 1));\r\n\t\t\t\t[arr[i], arr[j]] = [arr[j], arr[i]]\r\n\t\t\t}\r\n\t\t})(imgs)\r\n\r\n\t\treturn imgs;\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn (\t\r\n\t\t\t<div className=\"content\">\r\n\t\t\t\t<div className = \"board-wrapper\">\r\n\t\t\t\t\t<Board \r\n\t\t\t\t\t\tstatus = {this.state.status}\r\n\t\t\t\t\t\tpicked = {this.state.picked}\r\n\t\t\t\t\t\thandleClick = {this.handleClick}\r\n\t\t\t\t\t\twin = {this.win}\r\n\t\t\t\t\t\tcreateImgsArr = {this.createImgsArr}\r\n\t\t\t\t\t\tmode = {this.state.mode}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className = \"interface-wrapper\">\r\n\t\t\t\t\t<div className = \"interface\"> \r\n\t\t\t\t\t{/*\r\n\t\t\t\t\t\tпри рендере в указани пропсов никогда не ставят пробелы;\r\n\t\t\t\t\t\tно это всё решится вместе с другими стилистическими проблемами, когда ты линтер поставишь\r\n\t\t\t\t\t*/}\r\n\t\t\t\t\t\t<ControlButton \r\n\t\t\t\t\t\t\tstartGame = {this.startGame}\r\n\t\t\t\t\t\t\tstopGame = {this.stopGame}\r\n\t\t\t\t\t\t\tstatus = {this.state.status}\r\n\t\t\t\t\t\t\ttimer = {this.state.timer}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<ChangeMode \r\n\t\t\t\t\t\t\tchangeMode = {this.changeMode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<TimeLog\r\n\t\t\t\t\t\t\ttimeLog4 = {this.state.timeLog4}\r\n\t\t\t\t\t\t\ttimeLog6 = {this.state.timeLog6}\r\n\t\t\t\t\t\t\tmode = {this.state.mode}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nReactDOM.render(<Game />, document.getElementById('root'));\r\n"],"sourceRoot":""}